{% extends 'courses/base.html' %}
{% load static %}

{% block title %}Reset Password{% endblock %}

{% block css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<style>
/* =======================
   Same CSS as Login page
======================= */
body {
    font-family: 'Segoe UI', sans-serif;
    overflow-x: hidden;
    position: relative;
    background: linear-gradient(120deg, #f0f4ff, #e0f2ff, #f0f9ff);
    background-size: 400% 400%;
    animation: slowGradient 25s ease infinite;
}
@keyframes slowGradient {0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; }}
.bg-particle { position: fixed; width: 8px; height: 8px; background: rgba(14,165,233,0.35); border-radius: 50%; animation: particleMove 10s linear infinite; pointer-events: none; z-index: 0; }
@keyframes particleMove { 0% { transform: translateY(0) translateX(0); opacity: 1; } 50% { transform: translateY(-160px) translateX(60px); opacity: 0.4; } 100% { transform: translateY(0) translateX(0); opacity: 1; } }

.auth-wrapper { min-height: 85vh; display: flex; align-items: center; justify-content: center; padding-top: 60px; text-align: center; }
.auth-card { width: 100%; max-width: 460px; padding: 40px; border-radius: 18px; background: #ffffff; box-shadow: 0 25px 50px rgba(0,0,0,0.12); animation: fadeIn 1s ease; }
.auth-card h2 { font-weight: 700; color: #2563eb; text-align: center; margin-bottom: 6px; }
.auth-card p { text-align: center; color: #6b7280; font-size: 14px; margin-bottom: 28px; }

.auth-card .form-group { width: 100%; margin-bottom: 18px; }
.auth-card label { display: block; font-weight: 600; font-size: 14px; color: #374151; margin-bottom: 6px; }
.auth-card input { width: 100%; display: block; box-sizing: border-box; border-radius: 12px; padding: 11px 14px; border: 1px solid #d1d5db; font-size: 14px; }
.auth-card input:focus { border-color: #2563eb; box-shadow: 0 0 0 2px rgba(37,99,235,0.15); outline: none; }

.text-danger { display: block; margin-top: 4px; font-size: 13px; }
.btn-auth { background: linear-gradient(135deg, #0ea5e9, #2563eb); border: none; border-radius: 14px; padding: 12px; font-weight: 600; width: 100%; color: white; transition: 0.3s; margin-top: 8px; }
.btn-auth:hover { opacity: 0.92; }

.auth-footer { text-align: center; margin-top: 20px; font-size: 14px; }
.auth-footer a { color: #2563eb; font-weight: 600; text-decoration: none; }
.auth-footer a:hover { text-decoration: underline; }

@media (max-width: 767px) { .auth-card { padding: 30px; margin: 0 15px; } }
</style>
{% endblock %}

{% block js %}
<script>
for (let i = 0; i < 35; i++) {
    const p = document.createElement('div');
    p.className = 'bg-particle';
    p.style.top = Math.random() * 100 + '%';
    p.style.left = Math.random() * 100 + '%';
    p.style.width = Math.random() * 6 + 4 + 'px';
    p.style.height = p.style.width;
    p.style.animationDuration = 6 + Math.random() * 6 + 's';
    document.body.appendChild(p);
}
</script>
{% endblock %}

{% block content %}
<div class="auth-wrapper animate__animated animate__fadeIn">
    <div class="auth-card">
        <h2>Reset Password</h2>
        <p>Enter your email to receive password reset instructions</p>

        <form method="POST">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-group">
                    <label>{{ field.label }}</label>
                    {{ field }}
                    {% if field.errors %}
                        <span class="text-danger">{{ field.errors|striptags }}</span>
                    {% endif %}
                </div>
            {% endfor %}
            <button type="submit" class="btn-auth">Send Reset Link</button>
        </form>

        <div class="auth-footer">
            <a href="{% url 'login' %}">Back to Login</a>
        </div>
    </div>
</div>
{% endblock %}
